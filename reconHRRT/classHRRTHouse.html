<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>reconHRRT: HRRTHouse class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>HRRTHouse Class Reference</h1><code>#include &lt;<a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a>&gt;</code>
<p>
<a href="classHRRTHouse-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a0">HRRTHouse</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a1">init</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structResolutionTable.html">ResolutionTable</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a2">getResFunR</a> (const short &amp;index)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structResolutionTable.html">ResolutionTable</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a3">getResFunZ</a> (const short &amp;index)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classArray1D.html">Array1D</a>&lt; int &gt; &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a4">getSingles</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a5">getRandoms</a> (const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e1, const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a6">prepareListData</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a7">prepareRandomizedListData</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a8">getNextEvent</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a9">getCrystalNumber</a> (int dtct, int layer, int bank, int ring)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="structCrystalID.html">CrystalID</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a10">getHrrtId</a> (int n)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a11">getTotalPossibleEvents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a12">getAcceptedEvents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a13">getRejectedEvents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a14">~HRRTHouse</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classFrameInfo.html">FrameInfo</a> &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a15">getFrameInfo</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classHRRTScannerParams.html">HRRTScannerParams</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a16">getScannerParams</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a17">isTimeTag</a> (unsigned short *b)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a18">isSinglesTag</a> (unsigned short *b)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a19">isEvent</a> (unsigned short *b)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a20">processEvent</a> (unsigned short *b, <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e1, <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a21">calculateEventParams</a> (const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e1, const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e2, <a class="el" href="classEventPacket.html">EventPacket</a> &amp;event, int t)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a22">getSen</a> (int dtct, int layer, int bank, int ring, int singles)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a23">putNextEvent</a> (<a class="el" href="classEventPacket.html">EventPacket</a> &amp;event, int irealiz)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#a24">bcastSinglesPackets</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a25" doxytag="HRRTHouse::prepareOutput" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>prepareOutput</b> (int irealiz)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a26" doxytag="HRRTHouse::finalizeOutput" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>finalizeOutput</b> (int irealiz)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a27" doxytag="HRRTHouse::maskOut" ></a>
bool&nbsp;</td><td class="memItemRight" valign=bottom><b>maskOut</b> (const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e1, const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;e2)</td></tr>

<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n0" doxytag="HRRTHouse::HRRTHouseTest" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><b>HRRTHouseTest</b></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n1" doxytag="HRRTHouse::FrameInfo" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#n1">FrameInfo</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n2" doxytag="HRRTHouse::HRRTHouseSingles" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#n2">HRRTHouseSingles</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n3" doxytag="HRRTHouse::HRRTHouseList" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#n3">HRRTHouseList</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n4" doxytag="HRRTHouse::HRRTHouseEvent" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classHRRTHouse.html#n4">HRRTHouseEvent</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The house class provides all machine-specific information. There is a method for polling for events that returns Event packets for events in the order they were detected. A similar method allows polling for randomized events. The class contains the methods for reading in the list-mode data. One of the instance variables will be an object of class <a class="el" href="classMotionCorrection.html">MotionCorrection</a>, of which Polaris will be a subclass. The House class will make calls to the Polaris object to perform motion correction. Since the House class performs much I/O, its methods will generally run on only processor 0. One exception may be the methods that call the House from the ScatterCorrection module for normalization-related information. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em></em>&nbsp;</td><td><p>
</td></tr>
  </table>
</dl>

<p>

<p>
Definition at line <a class="el" href="HRRTHouse_8hpp-source.html#l00058">58</a> of file <a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="HRRTHouse::HRRTHouse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HRRTHouse::HRRTHouse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor, using Params object to initialize house class 
<p>
Definition at line <a class="el" href="HRRTHouse_8hpp-source.html#l00113">113</a> of file <a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a>.
<p>
<div class="fragment"><pre>00113 {};
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="HRRTHouse::~HRRTHouse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HRRTHouse::~<a class="el" href="classHRRTHouse.html">HRRTHouse</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor 
<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00099">99</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
<div class="fragment"><pre>00100 {
00101   <span class="comment">//fclose(lun);</span>
00102   <span class="keywordflow">if</span>(params-&gt;frame.verbosity&gt;=5)
00103     cout&lt;&lt;<span class="stringliteral">"deleting house ..."</span>&lt;&lt;endl;
00104 
00105   <span class="keywordflow">if</span>(houseResolution-&gt;resFunR) <span class="keyword">delete</span> [] houseResolution-&gt;resFunR;
00106   <span class="keywordflow">if</span>(houseResolution-&gt;resFunU) <span class="keyword">delete</span> [] houseResolution-&gt;resFunU;
00107   <span class="comment">//delete the motion correction class</span>
00108   <span class="keywordflow">if</span>(params-&gt;frame.verbosity&gt;=5) {
00109     cout&lt;&lt;<span class="stringliteral">"house deleted ..."</span>&lt;&lt;endl;
00110   }
00111 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a24" doxytag="HRRTHouse::bcastSinglesPackets" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void HRRTHouse::bcastSinglesPackets </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
function bcastSinglesPackets broadcasts singlesPacket to all the processors Just a pass-through to a function in <a class="el" href="classHRRTHouseSingles.html">HRRTHouseSingles</a> This function needs to be public because it is called from <a class="el" href="classAlgorithmSimulation.html">AlgorithmSimulation</a> 
<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00414">414</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseSingles_8cpp-source.html#l00213">HRRTHouseSingles::bcastSinglesPackets()</a>.
<p>
<div class="fragment"><pre>00415 {
00416   houseSingles-&gt;<a class="code" href="classHRRTHouseSingles.html#d9">bcastSinglesPackets</a>();
00417 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="HRRTHouse::calculateEventParams" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::calculateEventParams </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e2</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>t</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets coordinates of an event according to the detectors of an LOR <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>e1</em>&nbsp;</td><td>the first detector of an LOR </td></tr>
    <tr><td valign=top><em>e2</em>&nbsp;</td><td>the second detector of LOR </td></tr>
    <tr><td valign=top><em>event</em>&nbsp;</td><td>the event packet </td></tr>
    <tr><td valign=top><em>t</em>&nbsp;</td><td>0-listmode, 1=randomized mode </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00339">339</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8cpp-source.html#l00667">HRRTHouseEvent::calculateEventParams()</a>.
<p>
<div class="fragment"><pre>00342 {
00343   <span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d4">calculateEventParams</a>(e1, e2, event, t);
00344 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="HRRTHouse::getAcceptedEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long HRRTHouse::getAcceptedEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function gets the total accepted events in the house <dl compact><dt><b>Returns:</b></dt><dd>total accepted events in the house </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8hpp-source.html#l00223">223</a> of file <a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8hpp-source.html#l00109">HRRTHouseEvent::getAcceptedEvents()</a>.
<p>
<div class="fragment"><pre>00223 {<span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d10">getAcceptedEvents</a>();}
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="HRRTHouse::getCrystalNumber" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int HRRTHouse::getCrystalNumber </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>dtct</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>layer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>bank</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ring</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets detector number <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dtct:</em>&nbsp;</td><td>detector number in transaxle direction in a bank,0 - 71 </td></tr>
    <tr><td valign=top><em>layer:</em>&nbsp;</td><td>layer number, 0 - 1 </td></tr>
    <tr><td valign=top><em>bank:</em>&nbsp;</td><td>bank number, 0 - 7 </td></tr>
    <tr><td valign=top><em>ring:</em>&nbsp;</td><td>detector number in axle direction in a bank, 0 - 103 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>detector numer, range in 0 - 119,807 </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classHRRTScannerParams.html">HRRTScannerParams</a>, <a class="el" href="structCrystalID.html">CrystalID</a> </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00272">272</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8cpp-source.html#l00959">HRRTHouseEvent::getCrystalNumber()</a>.
<p>
<div class="fragment"><pre>00273 { 
00274   <span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d6">getCrystalNumber</a>(dtct, layer, bank, ring);
00275 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="HRRTHouse::getFrameInfo" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classFrameInfo.html">FrameInfo</a> &amp; HRRTHouse::getFrameInfo </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the summary frame information from the current frame acquisition <dl compact><dt><b>Returns:</b></dt><dd>summary of frame information </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classFrameInfo.html">FrameInfo</a> </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00152">152</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
<div class="fragment"><pre>00153 {
00154   <a class="code" href="classFrameInfo.html">FrameInfo</a> &amp; frameInfo =* FrameInfo::getInstance();
00155   <span class="comment">//frameInfo.init();</span>
00156   <span class="keywordflow">return</span> frameInfo;
00157 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="HRRTHouse::getHrrtId" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structCrystalID.html">CrystalID</a> HRRTHouse::getHrrtId </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>n</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function gets detector parameters from detector number <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>n</em>&nbsp;</td><td>detector number from 1 to 119808 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a <a class="el" href="structCrystalID.html">CrystalID</a> struct to describe a detector </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00284">284</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8cpp-source.html#l00982">HRRTHouseEvent::getHrrtId()</a>.
<p>
<div class="fragment"><pre>00284                                    {
00285   <span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d7">getHrrtId</a>(n);
00286 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="HRRTHouse::getNextEvent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> HRRTHouse::getNextEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the next event (which could be of real list-mode data or randomized data depending on initialization). This method is called repeatedly and the events are returned in the same order that they appear in the list file. Returns null when the end of the list has been reached, i.e., when the end of the list mode file is reached or when the end time of this frame is reached. The House reads the list-mode file while <a class="el" href="classHRRTHouse.html#a8">getNextEvent()</a> calls are made. It uses an internal buffering system. It fills in values for most of the <a class="el" href="classEventPacket.html">EventPacket</a>. Depending on the parameter set, it calculates the coordinates of the detector pair, applies motion correction, converts to image corrdinates, finds the intersection of this LOR with the FOV and defines sinphi, cosphi, costheta, jstart,jstop, secondaryStart, zStart, secondaryStep, zStep,. It calculates the randoms estimate, rand, the normalization estimate norm, and defines the resolution model codes resModelCodeR and resModelCodeZ. It also fills in the LOR information for the scatter correction psi1,psi2,zeta1,zeta. <dl compact><dt><b>Returns:</b></dt><dd>the next event from listmode file </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00260">260</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8cpp-source.html#l00811">HRRTHouseEvent::getNextEvent()</a>.
<p>
<div class="fragment"><pre>00260                                    {
00261   <span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d5">getNextEvent</a>();
00262 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="HRRTHouse::getRandoms" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> float HRRTHouse::getRandoms </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function computes the random coincidence rate for a pair of detectors <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>e1</em>&nbsp;</td><td><a class="el" href="structCrystalID.html">CrystalID</a> struct to describe first detector </td></tr>
    <tr><td valign=top><em>e2</em>&nbsp;</td><td><a class="el" href="structCrystalID.html">CrystalID</a> struct to describe seconde detector </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>randoms </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00207">207</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseSingles_8cpp-source.html#l00153">HRRTHouseSingles::getRandoms()</a>.
<p>
<div class="fragment"><pre>00209 {
00210   <span class="keywordflow">return</span> houseSingles-&gt;<a class="code" href="classHRRTHouseSingles.html#d7">getRandoms</a>(e1,e2);
00211 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="HRRTHouse::getRejectedEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long HRRTHouse::getRejectedEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function gets the total reported events in the house <dl compact><dt><b>Returns:</b></dt><dd>total rejected events in the house </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8hpp-source.html#l00229">229</a> of file <a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8hpp-source.html#l00110">HRRTHouseEvent::getRejectedEvents()</a>.
<p>
<div class="fragment"><pre>00229 {<span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d11">getRejectedEvents</a>();}
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="HRRTHouse::getResFunR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structResolutionTable.html">ResolutionTable</a> HRRTHouse::getResFunR </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const short &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>index</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the resolution function in r direction of the event, according to the index <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>index</em>&nbsp;</td><td>index of r resolution function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the corresponding resolution function </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structResolutionTable.html">ResolutionTable</a> </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00173">173</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
<div class="fragment"><pre>00174 {
00175   <span class="keywordflow">return</span> houseResolution-&gt;getResFunR(index);
00176 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="HRRTHouse::getResFunZ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="structResolutionTable.html">ResolutionTable</a> HRRTHouse::getResFunZ </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const short &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>index</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the resolution function in z direction of the event, according to the index <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>index</em>&nbsp;</td><td>index of z resolution function </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the corresponding resolution function </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structResolutionTable.html">ResolutionTable</a> </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00190">190</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
<div class="fragment"><pre>00191 {
00192   <span class="keywordflow">return</span> houseResolution-&gt;getResFunZ(index);
00193 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="HRRTHouse::getScannerParams" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classHRRTScannerParams.html">HRRTScannerParams</a> * HRRTHouse::getScannerParams </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets scanner parameters <dl compact><dt><b>Returns:</b></dt><dd>scanner parameters </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classHRRTScannerParams.html">HRRTScannerParams</a> </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00127">127</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="Utilities_8hpp-source.html#l00106">Utilities::cleanUp()</a>.
<p>
<div class="fragment"><pre>00128 {
00129   <span class="comment">//check if the pointer initialized when use it</span>
00130   <span class="keywordflow">if</span>(!checkValid()){
00131     cout&lt;&lt;<span class="stringliteral">"Error in use of HRRTHouse"</span>
00132         &lt;&lt;<span class="stringliteral">"Programmer make sure call the getInstance"</span>
00133         &lt;&lt;<span class="stringliteral">"Program aborted"</span>&lt;&lt;endl;
00134     cout.flush();
00135     <a class="code" href="classUtilities.html#e8">Utilities::cleanUp</a>(Constant::POINTERERROR);
00136   }
00137 
00138   <span class="keywordflow">return</span> scanner;
00139 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="HRRTHouse::getSen" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> float HRRTHouse::getSen </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>dtct</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>layer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>bank</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ring</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>singles</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
get the detector sensitivity 
<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00347">347</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
<div class="fragment"><pre>00347                                                                            {
00348   <span class="keywordflow">return</span> houseNorm-&gt;getSen(dtct,layer,bank,ring,singles);
00349 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="HRRTHouse::getSingles" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classArray1D.html">Array1D</a>&lt; int &gt; &amp; HRRTHouse::getSingles </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets single rates <dl compact><dt><b>Returns:</b></dt><dd>single rate table </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00199">199</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseSingles_8cpp-source.html#l00141">HRRTHouseSingles::getSingles()</a>.
<p>
<div class="fragment"><pre>00200 {
00201   <span class="keywordflow">return</span> houseSingles-&gt;<a class="code" href="classHRRTHouseSingles.html#d5">getSingles</a>();
00202 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="HRRTHouse::getTotalPossibleEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> float HRRTHouse::getTotalPossibleEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function calculates possible events in the system (i.e. square the number of crystals) <dl compact><dt><b>Returns:</b></dt><dd>possible events in the system </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00292">292</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseEvent_8cpp-source.html#l01009">HRRTHouseEvent::getTotalPossibleEvents()</a>.
<p>
<div class="fragment"><pre>00293 {
00294   <span class="keywordflow">return</span> houseEvent-&gt;<a class="code" href="classHRRTHouseEvent.html#d8">getTotalPossibleEvents</a>();
00295 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="HRRTHouse::init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void HRRTHouse::init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiation function, using Params object to initialize house class 
<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00030">30</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTScannerParams_8cpp-source.html#l00119">HRRTScannerParams::bcastMaskAttributes()</a>, <a class="el" href="HRRTHouseSingles_8cpp-source.html#l00054">HRRTHouseSingles::computeBlockEff()</a>, <a class="el" href="HRRTScannerParams_8hpp-source.html#l00116">HRRTScannerParams::getInstance()</a>, <a class="el" href="Utilities_8hpp-source.html#l00044">Utilities::mpiBcast()</a>, <a class="el" href="HRRTScannerParams_8hpp-source.html#l00092">HRRTScannerParams::nMask</a>, <a class="el" href="HRRTScannerParams_8cpp-source.html#l00009">HRRTScannerParams::readScannerParams()</a>, and <a class="el" href="HRRTScannerParams_8cpp-source.html#l00146">HRRTScannerParams::write()</a>.
<p>
<div class="fragment"><pre>00031 {
00032  
00033   checkSum = <span class="keyword">sizeof</span>(<a class="code" href="classHRRTHouse.html">HRRTHouse</a>);
00034  <span class="comment">//init params pointer by obtaining a singleton</span>
00035   params = Params::getInstance();
00036   <span class="comment">//init scanner pointer by obtaining a singleton</span>
00037   scanner= <a class="code" href="classHRRTScannerParams.html#e0">HRRTScannerParams::getInstance</a>();
00038   <span class="comment">//init scanner instance</span>
00039   Status *status = Status::getStatus();
00040 
00041   <span class="comment">//proc 0 reads the scanner params file and broadcasts it to others</span>
00042   <span class="keywordflow">if</span>(status-&gt;proc == 0) 
00043       scanner-&gt;<a class="code" href="classHRRTScannerParams.html#a0">readScannerParams</a>();
00044   <a class="code" href="classUtilities.html#e2">Utilities::mpiBcast</a>(0, scanner, <span class="keyword">sizeof</span>(<a class="code" href="classHRRTScannerParams.html">HRRTScannerParams</a>));
00045   <span class="keywordflow">if</span>(scanner-&gt;<a class="code" href="classHRRTScannerParams.html#o30">nMask</a> &gt; 0) {
00046      scanner-&gt;<a class="code" href="classHRRTScannerParams.html#a1">bcastMaskAttributes</a>();
00047   }
00048   
00049   <span class="comment">//for debug purpose</span>
00050   <span class="comment">//if(params-&gt;frame.verbosity&gt;=4)</span>
00051    <span class="comment">// scanner-&gt;write(cout);</span>
00052 
00053   <span class="comment">// Obtain a pointer to HRRTHouseMask singleton and then initialize it</span>
00054   houseMask = HRRTHouseMask::getInstance();
00055   houseMask-&gt;init();
00056   <span class="keywordflow">if</span>(params-&gt;frame.verbosity&gt;=3)
00057    cout&lt;&lt;<span class="stringliteral">"Processor "</span>&lt;&lt;status-&gt;proc&lt;&lt;<span class="stringliteral">" houseMask init complete"</span>&lt;&lt;endl;
00058 
00059   <span class="comment">//set scanner parameters from  the xml file</span>
00060   <span class="keywordflow">if</span>(params-&gt;frame.verbosity&gt;=4)
00061     scanner-&gt;<a class="code" href="classHRRTScannerParams.html#a2">write</a>(cout);
00062   
00063     
00064 
00065   <span class="comment">//calculate and store resolution tables</span>
00066   houseResolution = HRRTHouseResolution::getInstance();
00067   houseResolution-&gt;createResolutionTable(); 
00068   <span class="comment">//calculate detector normalization sensitivity factors</span>
00069   houseNorm = HRRTHouseNorm::getInstance();
00070    <span class="comment">//calculate and store detector coordinates</span>
00071   houseNorm-&gt;setHrrtDtct();
00072   houseNorm-&gt;calculateDtctSensitivity();
00073   <span class="comment">//calculate detector normalization geometry factors</span>
00074   houseNorm-&gt;calculateAxGeoFctr();
00075   <span class="comment">//calculate detector normalization geometry factors</span>
00076   houseNorm-&gt;calculateTxGeoFctr(); 
00077   <span class="comment">//reading the alpha factors to adjust efficiency with count rate</span>
00078   houseNorm-&gt;read_countrate_factor();
00079   houseSingles = HRRTHouseSingles::getInstance();
00080   houseSingles-&gt;<a class="code" href="classHRRTHouseSingles.html#d4">computeBlockEff</a>();
00081 
00082   houseList = HRRTHouseList::getInstance();
00083   <span class="comment">//open log file</span>
00084   <span class="comment">/*fLog.open("logFile",ios::app);</span>
00085 <span class="comment">    if(!fLog)</span>
00086 <span class="comment">    {</span>
00087 <span class="comment">    cout&lt;&lt;"Error openning logFile "&lt;&lt;endl;</span>
00088 <span class="comment">    MPI::COMM_WORLD.Abort(-1);</span>
00089 <span class="comment">    }*/</span>
00090   houseEvent = HRRTHouseEvent::getInstance();
00091   <span class="keywordflow">if</span>(params-&gt;frame.verbosity&gt;=4)
00092     cout&lt;&lt;<span class="stringliteral">"Processor "</span>&lt;&lt;status-&gt;proc&lt;&lt;<span class="stringliteral">" HRRTHouse init complete"</span>&lt;&lt;endl;
00093   
00094  }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="HRRTHouse::isEvent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::isEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned short *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>b</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine if a 64 bit event is an event <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>b</em>&nbsp;</td><td>the pointer to the 64 bit raw event </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Ture, yes, false no </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00318">318</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8hpp-source.html#l00122">HRRTHouseList::isEvent()</a>.
<p>
<div class="fragment"><pre>00319 {
00320   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d8">isEvent</a>(b);
00321 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="HRRTHouse::isSinglesTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::isSinglesTag </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned short *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>b</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine if a 64 bit event is a singles tag <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>b</em>&nbsp;</td><td>the pointer to the 64 bit raw event </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Ture, yes, false no </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00309">309</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8hpp-source.html#l00117">HRRTHouseList::isSinglesTag()</a>.
<p>
<div class="fragment"><pre>00310 {
00311   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d7">isSinglesTag</a>(b);
00312 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="HRRTHouse::isTimeTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::isTimeTag </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned short *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>b</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine if a raw event is a time tag <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>b</em>&nbsp;</td><td>the pointer to the 64 bit raw event </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Ture, yes, false no </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00301">301</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8hpp-source.html#l00113">HRRTHouseList::isTimeTag()</a>.
<p>
<div class="fragment"><pre>00302 {
00303   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d6">isTimeTag</a>(b);
00304 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="HRRTHouse::prepareListData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::prepareListData </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Performs the required initialization in advance of event-by-event requests for list-mode data. Opens the list-mode file specified in params. "Search" forward to find the appropriate starting position based on frame reference time. This function must be called before the first event of actual list-mode data is polled for. <dl compact><dt><b>Returns:</b></dt><dd>true if found the reference time, false if not. </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00222">222</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8cpp-source.html#l00671">HRRTHouseList::prepareListData()</a>.
<p>
<div class="fragment"><pre>00222                                 {
00223   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d19">prepareListData</a>();
00224 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="HRRTHouse::prepareRandomizedListData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::prepareRandomizedListData </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Performs the required initialization in advance of event-by-event requests for randomized list-mode data. The numRandom parameter specifies the number of random events for each event in the event list. This call causes the House to open the event list file. The event list file is read as successive calls to getNextEvent are called. <dl compact><dt><b>Returns:</b></dt><dd>true if found the reference time, false if not. </dd></dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00236">236</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8cpp-source.html#l00545">HRRTHouseList::prepareRandomizedListData()</a>.
<p>
<div class="fragment"><pre>00236                                          {
00237   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d20">prepareRandomizedListData</a>();
00238 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="HRRTHouse::processEvent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::processEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned short *&nbsp;</td>
          <td class="mdname" nowrap> <em>b</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structCrystalID.html">CrystalID</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>e2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read two words (64 bits) from the list mode data decode the bits <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>b</em>&nbsp;</td><td>the pointer to the 64 bit raw event </td></tr>
    <tr><td valign=top><em>e1</em>&nbsp;</td><td>the first detector of a LOR </td></tr>
    <tr><td valign=top><em>e2</em>&nbsp;</td><td>the second detector of a LOR </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00328">328</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8cpp-source.html#l00795">HRRTHouseList::processEvent()</a>.
<p>
<div class="fragment"><pre>00331 {
00332   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d12">processEvent</a>(b,e1,e2);
00333 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="HRRTHouse::putNextEvent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool HRRTHouse::putNextEvent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>irealiz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
get the randoms efficiency array 
<p>
Definition at line <a class="el" href="HRRTHouse_8cpp-source.html#l00366">366</a> of file <a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a>.
<p>
References <a class="el" href="HRRTHouseList_8cpp-source.html#l01067">HRRTHouseList::putNextEvent()</a>.
<p>
<div class="fragment"><pre>00367 {
00368   <span class="keywordflow">return</span> houseList-&gt;<a class="code" href="classHRRTHouseList.html#d24">putNextEvent</a>(event, irealiz);
00369 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="HRRTHouse_8hpp-source.html">HRRTHouse.hpp</a><li><a class="el" href="HRRTHouse_8cpp-source.html">HRRTHouse.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Dec 13 14:13:49 2007 for reconHRRT by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
