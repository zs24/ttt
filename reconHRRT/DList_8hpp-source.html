<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>reconHRRT: DList.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>DList.hpp</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _DLIST_HPP_</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _DLIST_HPP_</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include &lt;iostream&gt;</span>
00005 
00006 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00007 
00008 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00009         <span class="keyword">class </span>DList;     <span class="comment">// Incomplete declaration.</span>
00010         
00011 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>Node {
00012         <span class="keyword">friend</span> <span class="keyword">class </span>DList&lt;T&gt;;
00013    <span class="keyword">public</span>:
00014         Node( <span class="keyword">const</span> T &amp;theElement = T( ), Node * n = NULL )
00015               : nodeElement( theElement ), next( n ),prev(n) { }
00016    <span class="keyword">private</span>:          
00017         T nodeElement;
00018         Node*next;
00019         Node *prev;
00020 
00021 };
00022 
00023 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>DList {
00024 
00025 <span class="keyword">private</span>:
00026         Node&lt;T&gt; *firstPtr;
00027         Node&lt;T&gt; *lastPtr;
00028         Node&lt;T&gt; *currentPtr;
00029 <span class="keyword">public</span>:
00030         <span class="keywordtype">int</span> count;
00031 
00032         DList() {
00033                 firstPtr = lastPtr = currentPtr = NULL;
00034                 count = 0;
00035         }
00036         ~DList() {
00037                 getFirst();
00038                 <span class="keywordflow">while</span>(delElement()) {}
00039 
00040         }
00041         <span class="keywordtype">bool</span> isEmpty() {
00042                 <span class="keywordflow">if</span>(count == 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00043                 <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
00044         }
00045 
00046         <span class="keywordtype">bool</span> add(T &amp;element) {
00047                 Node&lt;T&gt; *spt = <span class="keyword">new</span> Node&lt;T&gt;;
00048                 spt-&gt;nodeElement = element;
00049                 spt-&gt;next = NULL;
00050                 <span class="keywordflow">if</span>(firstPtr == NULL || count == 0) { <span class="comment">// New DList</span>
00051                         firstPtr = spt; 
00052                         spt-&gt;prev = NULL;
00053                         count = 1;
00054         
00055                 } <span class="keywordflow">else</span> {
00056                         spt-&gt;prev = lastPtr;
00057                         lastPtr-&gt;next = spt;
00058                         ++count;
00059                 }
00060                 lastPtr = currentPtr = spt;
00061                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00062         }
00063         <span class="keywordtype">bool</span> delElement() {
00064                 <span class="keywordflow">if</span>(isEmpty()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00065 
00066                 Node&lt;T&gt; *tmpPtr = currentPtr;
00067                 <span class="keywordflow">if</span>(firstPtr == lastPtr) {
00068                         firstPtr = lastPtr = currentPtr = NULL;
00069                         count = 0;
00070                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00071                 }
00072                          
00073                 <span class="keywordflow">if</span>(currentPtr == firstPtr) {
00074                         currentPtr-&gt;next-&gt;prev = NULL;
00075                         firstPtr = currentPtr-&gt;next;
00076                         currentPtr = firstPtr;
00077                 --count;        
00078                         
00079                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(currentPtr == lastPtr) {
00080                         currentPtr-&gt;prev-&gt;next = NULL;
00081                         lastPtr = currentPtr-&gt;prev;
00082                         currentPtr = lastPtr;
00083                 --count;        
00084                         
00085                 } <span class="keywordflow">else</span> {
00086                         Node&lt;T&gt; *tmp = currentPtr-&gt;prev;
00087                         currentPtr-&gt;next-&gt;prev = tmp;
00088                         tmp-&gt;next = currentPtr-&gt;next;
00089                         currentPtr = tmp;
00090                 --count;        
00091                 }
00092                 <span class="keyword">delete</span> tmpPtr;
00093                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00094         }
00095         
00096         <span class="keywordtype">bool</span> getFirst(T &amp;c) {
00097                 currentPtr = firstPtr;
00098                 <span class="keywordflow">if</span> (currentPtr != NULL) {
00099                         c = currentPtr-&gt;nodeElement;
00100                         <span class="keywordflow">return</span> <span class="keyword">true</span>;            
00101                 } <span class="keywordflow">else</span> {
00102                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00103                 }
00104         }
00105         
00106         <span class="keywordtype">bool</span> getNext(T &amp;c) {
00107                 <span class="keywordflow">if</span>(currentPtr != lastPtr) {
00108                         currentPtr = currentPtr-&gt;next;
00109                 } <span class="keywordflow">else</span> {
00110                         currentPtr = lastPtr;
00111                 }
00112                 <span class="keywordflow">if</span> (currentPtr != NULL) {
00113                         c = currentPtr-&gt;nodeElement;
00114                         <span class="keywordflow">return</span> <span class="keyword">true</span>;            
00115                 } <span class="keywordflow">else</span> {
00116                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00117                 }
00118         }
00119                         
00120         <span class="keywordtype">bool</span> replace(T &amp;element) {
00121                 currentPtr-&gt;nodeElement = element;
00122                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00123         }
00124 };
00125 
00126 <span class="preprocessor">#endif </span><span class="comment">/* _DLIST_HPP_ */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Dec 13 14:13:47 2007 for reconHRRT by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
