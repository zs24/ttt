<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>reconHRRT: EventList.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>EventList.hpp</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef EVENTLIST_HPP</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define EVENTLIST_HPP</span>
00003 <span class="preprocessor"></span><span class="preprocessor">#include &lt;iostream&gt;</span>
00004 <span class="preprocessor">#include &lt;fstream&gt;</span>
00005 <span class="preprocessor">#include "array.hpp"</span>
00006 <span class="preprocessor">#include "EventPacket.hpp"</span>
00007 <span class="comment">//    3.2  EventList</span>
<a name="l00013"></a><a class="code" href="classEventListNode.html">00013</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classEventListNode.html">EventListNode</a> <span class="comment">//ListNode of EventList, data type is EventPacket</span>
00014 {
00015   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classEventList.html">EventList</a>; <span class="comment">//Make EventList a friend</span>
00016 <span class="keyword">public</span>:
<a name="l00022"></a><a class="code" href="classEventListNode.html#a0">00022</a>   <a class="code" href="classEventListNode.html#a0">EventListNode</a>( <span class="keyword">const</span> <a class="code" href="classEventPacket.html">EventPacket</a> &amp; e): event(e), nextPtr(0) {}; <span class="comment">//constructor</span>
<a name="l00027"></a><a class="code" href="classEventListNode.html#a1">00027</a> <span class="comment"></span>  <a class="code" href="classEventPacket.html">EventPacket</a> <a class="code" href="classEventListNode.html#a1">getEvent</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> event;}; <span class="comment">//return the event in the node</span>
00028 <span class="keyword">private</span>:
00029   <a class="code" href="classEventPacket.html">EventPacket</a> event;            <span class="comment">//event</span>
00030   <a class="code" href="classEventListNode.html">EventListNode</a> *nextPtr;               <span class="comment">//next node in the list</span>
00031 };
00032 
<a name="l00058"></a><a class="code" href="classEventList.html">00058</a> <span class="keyword">class </span><a class="code" href="classEventList.html">EventList</a> 
00059 {
00060 <span class="keyword">private</span>:
00061   <a class="code" href="classArray1D.html">Array1D&lt;EventListNode *&gt;</a> firstPtr; <span class="comment">//pointer to first node</span>
00062   <a class="code" href="classArray1D.html">Array1D&lt;EventListNode *&gt;</a> lastPtr;  <span class="comment">//pointer to last node</span>
00063   <a class="code" href="classArray1D.html">Array1D&lt;EventListNode *&gt;</a> currentPtr;  <span class="comment">//pointer to current node</span>
00064   <a class="code" href="classArray1D.html">Array1D&lt;int&gt;</a> portion;
00065   <span class="comment">//the portion of the event list that is stored in </span>
00066   <span class="comment">//memory at any give time</span>
00067   <span class="keywordtype">int</span> numSet;                           <span class="comment">//number of subset</span>
00068   <a class="code" href="classArray1D.html">Array1D&lt;int&gt;</a> nPortion; <span class="comment">//count of portion read</span>
00069 
00070   <a class="code" href="classEventListNode.html">EventListNode</a> *getNewNode(<span class="keyword">const</span> <a class="code" href="classEventPacket.html">EventPacket</a> &amp;);
00071   <span class="comment">//function to allocate a new node</span>
00072   <a class="code" href="classEventListNode.html">EventListNode</a> * sentry, *cSentry; <span class="comment">//sentry of the list and current list</span>
00073   <a class="code" href="classArray1D.html">Array1D&lt;int&gt;</a> numEvents; <span class="comment">//number of events in each sublist</span>
00074   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> VOLUM=5000000; 
00075   <span class="comment">//total portion size of the event list, if this size is exceeded,</span>
00076   <span class="comment">//the list will be swaped to disk</span>
00077 
00078   <span class="keywordtype">void</span> swapToDisk(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>); <span class="comment">//if the numEvents &gt; VOLUM, swap the events to disk</span>
00079   <span class="keywordtype">void</span> swapFromDisk(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>); <span class="comment">//swap back the eventlist from the disk</span>
00080   <span class="keywordtype">void</span> deleteList(<span class="keywordtype">int</span>); <span class="comment">//delete subset of the eventlist</span>
00081   <span class="keywordtype">bool</span> replaced, removed; <span class="comment">//if there is an event was replaced or removed</span>
00082 <span class="keyword">public</span>:
00087   <a class="code" href="classEventList.html#a0">EventList</a>(<span class="keywordtype">int</span> numset);
00088   <span class="comment">// constructor; initializes array of numset lists</span>
00092 <span class="comment"></span>  <a class="code" href="classEventList.html#a1">~EventList</a>();
00093   <span class="comment">//destructor; destroy array of numset lists</span>
00099 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classEventList.html#a2">append</a>(<span class="keywordtype">int</span> subset, <span class="keyword">const</span> <a class="code" href="classEventPacket.html">EventPacket</a> &amp; event);
00100   <span class="comment">// appends event to specified subset-list</span>
00106 <span class="comment"></span>  <a class="code" href="classEventPacket.html">EventPacket</a> <a class="code" href="classEventList.html#a3">getFirst</a>(<span class="keywordtype">int</span> subset);
00107   <span class="comment">// sets pointer to first event in specified subset list and returns it</span>
00113 <span class="comment"></span>  <a class="code" href="classEventPacket.html">EventPacket</a> <a class="code" href="classEventList.html#a4">getNext</a>(<span class="keywordtype">int</span> subset);
00114   <span class="comment">// returns next event of specified subset-list, null if at  end of list</span>
00120 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classEventList.html#a5">remove</a>(<span class="keywordtype">int</span> subset);
00121   <span class="comment">// removes last event of specified subset-list</span>
00126 <span class="comment"></span>  <a class="code" href="classEventPacket.html">EventPacket</a> <a class="code" href="classEventList.html#a6">getSentry</a>();
00127   <span class="comment">// returns termination sentry</span>
00133 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classEventList.html#a7">replace</a>(<span class="keywordtype">int</span> subset, <span class="keyword">const</span> <a class="code" href="classEventPacket.html">EventPacket</a> &amp; event);
00134   <span class="comment">// Replaces existing event packet at current event with argument</span>
00139 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classEventList.html#a8">setScatter</a>(<span class="keywordtype">float</span> scatter);
00140   <span class="comment">// Replaces scatter field</span>
00146 <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classEventList.html#a9">isEmpty</a>(<span class="keywordtype">int</span> subset);
00147   <span class="comment">//tests if the list subset empty</span>
00148   <span class="comment">/*</span>
00149 <span class="comment">    void print();</span>
00150 <span class="comment">    //output the list to a file*/</span>
00154   <span class="keywordtype">void</span> <a class="code" href="classEventList.html#a10">printOnScreen</a>();
00155   <span class="comment">//output the list to screen</span>
<a name="l00160"></a><a class="code" href="classEventList.html#a11">00160</a> <span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classEventList.html#a11">getNumSet</a>() { <span class="keywordflow">return</span> numSet;}; 
<a name="l00166"></a><a class="code" href="classEventList.html#a12">00166</a>   <span class="keywordtype">int</span> <a class="code" href="classEventList.html#a12">getNumEvents</a>(<span class="keywordtype">int</span> subset) {<span class="keywordflow">return</span> numEvents(subset);}
00171   <span class="keywordtype">int</span> <a class="code" href="classEventList.html#a13">getTotalSize</a>();
00172     
00173   <span class="comment">//KW: dirname</span>
00174   <span class="keywordtype">char</span> tempDirName[128];
00175 };
00176 
00177 <span class="preprocessor">#endif //EVENTLIST_HPP</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Dec 13 14:13:47 2007 for reconHRRT by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
