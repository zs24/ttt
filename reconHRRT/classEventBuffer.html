<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>reconHRRT: EventBuffer class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>EventBuffer Class Reference</h1><code>#include &lt;<a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>&gt;</code>
<p>
<a href="classEventBuffer-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a0">EventBuffer</a> (int numBuffers)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a1">~EventBuffer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a2">appendFixed</a> (int ibuffer, <a class="el" href="classEventPacket.html">EventPacket</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a3">appendResizable</a> (int ibuffer, <a class="el" href="classEventPacket.html">EventPacket</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a4">sendAndClear</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a5">receive</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a6">isFull</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a7">getNext</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a8">getNextCopy</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a9">peekAhead</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a10">hasMoreEvents</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a11">getNumEvents</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a12">getNumEvents</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a13">rewind</a> (int ibuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventBuffer.html#a14">copy</a> (int ibuffer, <a class="el" href="classEventBuffer.html">EventBuffer</a> &amp;srcEB, int iSrc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a15" doxytag="EventBuffer::sendTagged" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>sendTagged</b> (int ibuffer, int target, int tag)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a16" doxytag="EventBuffer::recvProbed" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>recvProbed</b> (int ibuffer, int source, int realiz)</td></tr>

<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="n0" doxytag="EventBuffer::EventBufferTest" ></a>
class&nbsp;</td><td class="memItemRight" valign=bottom><b>EventBufferTest</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class provides management of an array of buffers for the Event Packets. Each buffer is a fixed size, NUM_BUFFER_EVENTS. The rationale for the fixed size is that the size of the MPI buffers needs to be known by both sending and receiving processors. This class facilitates performance by reducing latency costs. Typically a "buffer" corresponds to a particular target node, if the EventBuffer object is on processor 0. On other processors, only one buffer is typically created. 
<p>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00017">17</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="EventBuffer::EventBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> EventBuffer::EventBuffer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>numBuffers</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>numBuffer</em>&nbsp;</td><td>number of buffer to generaate </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00044">44</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="Array1D_8hpp-source.html#l00085">Array1D&lt; int &gt;::init()</a>.
<p>
<div class="fragment"><pre>00044                              :eventArraySize(NUM_BUFFER_EVENTS), 
00045                               numBuffers(numBuffers)
00046   {
00047     <span class="comment">// Allocates numBuffer arrays, each with NUM_BUFFER_EVENTS events</span>
00048     eventArray.init(eventArraySize, numBuffers);
00049     <span class="comment">// allocate and set to zero.</span>
00050     numBufferEvents = (<span class="keywordtype">int</span> *)calloc(numBuffers,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
00051     <span class="comment">// bufferSize is no longer an instancre variable</span>
00052     <span class="comment">//bufferSize = numBufferEvents * sizeof(EventPacket);</span>
00053     currentPacketIndex.<a class="code" href="classArray1D.html#a8">init</a>(numBuffers);           
00054      <span class="comment">// initialize to zero</span>
00055     traversalIndex.<a class="code" href="classArray1D.html#a8">init</a>(numBuffers);           
00056     <span class="comment">//init to zero</span>
00057     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;numBuffers; i++){
00058       traversalIndex(i)=currentPacketIndex(i) =0;
00059       numBufferEvents[i] = 1;
00060     }
00061   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="EventBuffer::~EventBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> EventBuffer::~<a class="el" href="classEventBuffer.html">EventBuffer</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor 
<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00066">66</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
<div class="fragment"><pre>00067   {
00068     free(numBufferEvents);
00069   };
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="EventBuffer::appendFixed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventBuffer::appendFixed </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>ibuffer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Appends an event to buffer without changing the capacity of the buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to append,typically the intended target processor </td></tr>
    <tr><td valign=top><em>event</em>&nbsp;</td><td>the event to be appended </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if not full, 1 if full, or -1 if failure </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00078">78</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="EventBuffer_8hpp-source.html#l00150">isFull()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00076">MOLAR::dealerPlayer()</a>.
<p>
<div class="fragment"><pre>00079   {
00080     eventArray(currentPacketIndex(ibuffer)++,ibuffer)=event;
00081     numBufferEvents[ibuffer]++;
00082     <span class="keywordflow">if</span>(<a class="code" href="classEventBuffer.html#a6">isFull</a>(ibuffer))  
00083       <span class="keywordflow">return</span> 1;   <span class="comment">// buffer is full</span>
00084     <span class="keywordflow">else</span>
00085       <span class="keywordflow">return</span> 0;
00086   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="EventBuffer::appendResizable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventBuffer::appendResizable </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>ibuffer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Appends an event to buffer. If the operation requires that the size be changed, does so. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to append,typically the intended target processor </td></tr>
    <tr><td valign=top><em>event</em>&nbsp;</td><td>the event to be appended </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 if not full, 1 if full, or -1 if failure </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00096">96</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="EventBuffer_8hpp-source.html#l00150">isFull()</a>.
<p>
Referenced by <a class="el" href="EventBuffer_8hpp-source.html#l00243">copy()</a>.
<p>
<div class="fragment"><pre>00097   {
00098     eventArray(currentPacketIndex(ibuffer)++,ibuffer)=event;
00099     numBufferEvents[ibuffer]++;
00100     <span class="keywordflow">if</span>(<a class="code" href="classEventBuffer.html#a6">isFull</a>(ibuffer)){
00101       eventArraySize += NUM_BUFFER_EVENTS;
00102       eventArray.reinit(eventArraySize,numBuffers);  
00103       <span class="comment">// Make the buffers bigger</span>
00104     }
00105 
00106     <span class="keywordflow">if</span>(<a class="code" href="classEventBuffer.html#a6">isFull</a>(ibuffer))  
00107                          
00108       <span class="keywordflow">return</span> 1;   <span class="comment">// buffer is full</span>
00109     <span class="keywordflow">else</span>
00110       <span class="keywordflow">return</span> 0;
00111   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="EventBuffer::copy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventBuffer::copy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>ibuffer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classEventBuffer.html">EventBuffer</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>srcEB</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iSrc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy the contents of the iSrc buffer of srcEB into our ibuffer buffer. This is a substitute for MPI calls when source equals target <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ibuffer</em>&nbsp;</td><td>buffer index </td></tr>
    <tr><td valign=top><em></em>&nbsp;</td><td><p>
</td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00243">243</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="EventBuffer_8hpp-source.html#l00096">appendResizable()</a>, <a class="el" href="EventBuffer_8hpp-source.html#l00176">getNextCopy()</a>, <a class="el" href="EventBuffer_8hpp-source.html#l00206">hasMoreEvents()</a>, and <a class="el" href="EventBuffer_8hpp-source.html#l00233">rewind()</a>.
<p>
<div class="fragment"><pre>00244   {
00245     srcEB.<a class="code" href="classEventBuffer.html#a13">rewind</a>(iSrc);
00246     <a class="code" href="classEventPacket.html">EventPacket</a> event;
00247     <span class="keywordflow">while</span>(srcEB.<a class="code" href="classEventBuffer.html#a10">hasMoreEvents</a>(iSrc)){
00248       <span class="comment">// Just keep calling append to add events, which will cause </span>
00249       <span class="comment">// automatic buffer resizing if necessary</span>
00250       event = srcEB.<a class="code" href="classEventBuffer.html#a8">getNextCopy</a>(iSrc);
00251       <a class="code" href="classEventBuffer.html#a3">appendResizable</a>(ibuffer,event);
00252     }
00253     <a class="code" href="classEventBuffer.html#a13">rewind</a>(ibuffer);
00254   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="EventBuffer::getNext" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventBuffer::getNext </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the next traversal event in the specified buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the next event in the buffer </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classEventPacket.html">EventPacket</a> </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00162">162</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="EventBuffer_8hpp-source.html#l00206">hasMoreEvents()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00214">MOLAR::player()</a>.
<p>
<div class="fragment"><pre>00163   {
00164     <a class="code" href="classEventPacket.html">EventPacket</a> event = eventArray(traversalIndex(ibuffer),ibuffer);
00165     traversalIndex(ibuffer)++;
00166     <span class="keywordflow">if</span>( !<a class="code" href="classEventBuffer.html#a10">hasMoreEvents</a>(ibuffer)) traversalIndex(ibuffer)=0 ;    
00167     <span class="comment">// Note:  Not the same as Sentry, changed</span>
00168     <span class="keywordflow">return</span> event;
00169   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="EventBuffer::getNextCopy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventBuffer::getNextCopy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the next traversal event in the specified buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the next event in the buffer </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classEventPacket.html">EventPacket</a> </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00176">176</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
Referenced by <a class="el" href="EventBuffer_8hpp-source.html#l00243">copy()</a>.
<p>
<div class="fragment"><pre>00177   {
00178     <a class="code" href="classEventPacket.html">EventPacket</a> event = eventArray(traversalIndex(ibuffer),ibuffer);
00179     traversalIndex(ibuffer)++;
00180     <span class="comment">//if( !hasMoreEvents(ibuffer)) traversalIndex(ibuffer)=0 ;    </span>
00181     <span class="comment">// Note:  Not the same as Sentry, changed</span>
00182     <span class="keywordflow">return</span> event;
00183   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="EventBuffer::getNumEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventBuffer::getNumEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the nuber of actual events used in the specified buffer <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ibuffer</em>&nbsp;</td><td>buffer index </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of events in the specified buffer </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00224">224</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
<div class="fragment"><pre>00225   {
00226     <span class="keywordflow">return</span> numBufferEvents[ibuffer];
00227   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="EventBuffer::getNumEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventBuffer::getNumEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
gets number of events (volum) of the buffer <dl compact><dt><b>Returns:</b></dt><dd>the number of events the buffer can hold </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00215">215</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00214">MOLAR::player()</a>.
<p>
<div class="fragment"><pre>00216   {
00217     <span class="keywordflow">return</span> eventArraySize;
00218   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="EventBuffer::hasMoreEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool EventBuffer::hasMoreEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines if the buffer has more events <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if there are more events in the buffer, false otherwise </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00206">206</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
Referenced by <a class="el" href="EventBuffer_8hpp-source.html#l00243">copy()</a>, <a class="el" href="EventBuffer_8hpp-source.html#l00162">getNext()</a>, and <a class="el" href="EventBuffer_8hpp-source.html#l00192">peekAhead()</a>.
<p>
<div class="fragment"><pre>00207   {
00208     <span class="keywordflow">return</span> (traversalIndex(ibuffer) &lt; numBufferEvents[ibuffer]);
00209   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="EventBuffer::isFull" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool EventBuffer::isFull </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines if the buffer is full, i.e., has been fully populated <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>sub buffer </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the buffer is full, false otherwise </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00150">150</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
Referenced by <a class="el" href="EventBuffer_8hpp-source.html#l00078">appendFixed()</a>, and <a class="el" href="EventBuffer_8hpp-source.html#l00096">appendResizable()</a>.
<p>
<div class="fragment"><pre>00151   {
00152     <span class="keywordflow">return</span>(currentPacketIndex(ibuffer) == eventArraySize);
00153   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="EventBuffer::peekAhead" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventBuffer::peekAhead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the next traversal event in the specified buffer without inrementing the traversal index <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the next event in the buffer </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classEventPacket.html">EventPacket</a> </dd></dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00192">192</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="EventBuffer_8hpp-source.html#l00206">hasMoreEvents()</a>.
<p>
<div class="fragment"><pre>00193   {
00194     <span class="keywordflow">if</span>( !<a class="code" href="classEventBuffer.html#a10">hasMoreEvents</a>(ibuffer)) <span class="keywordflow">return</span> NULLEVENT;  
00195     <a class="code" href="classEventPacket.html">EventPacket</a> event = eventArray(traversalIndex(ibuffer),ibuffer);
00196     <span class="comment">// Note:  Not the same as Sentry, changed</span>
00197     <span class="keywordflow">return</span> event;
00198   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="EventBuffer::receive" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventBuffer::receive </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Receives the specified buffer, always a constant size The size is assumed to be the default size. This function assumes that ibuffer is both the source processor number and the bufer number. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the sub buffer to receive </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00137">137</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="Utilities_8hpp-source.html#l00034">Utilities::mpiRecv()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00214">MOLAR::player()</a>.
<p>
<div class="fragment"><pre>00138   {
00139     <span class="keywordtype">int</span> bufferSize = eventArraySize*<span class="keyword">sizeof</span>(<a class="code" href="classEventPacket.html">EventPacket</a>);
00140     traversalIndex(ibuffer)=0;
00141     numBufferEvents[ibuffer]=eventArraySize;
00142     <a class="code" href="classUtilities.html#e1">Utilities::mpiRecv</a>(ibuffer, &amp;eventArray(0, ibuffer),bufferSize, 0);
00143   };
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="EventBuffer::rewind" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventBuffer::rewind </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resets the traversal index so that the next call to <a class="el" href="classEventBuffer.html#a7">getNext()</a> will return the first event in the specified buffer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ibuffer</em>&nbsp;</td><td>buffer index </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00233">233</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
Referenced by <a class="el" href="EventBuffer_8hpp-source.html#l00243">copy()</a>.
<p>
<div class="fragment"><pre>00234   {
00235     traversalIndex(ibuffer)=0;
00236   }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="EventBuffer::sendAndClear" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventBuffer::sendAndClear </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ibuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sends a processor-target buffer to the appropriate processor and resets the current packet index for that processor's buffer. The size of the send is determined by eventArraySize This function assumes that the parameter int ibuffer is both the buffer number as well as the target. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buffer</em>&nbsp;</td><td>the subffer to send and clear </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventBuffer_8hpp-source.html#l00122">122</a> of file <a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a>.
<p>
References <a class="el" href="Utilities_8hpp-source.html#l00023">Utilities::mpiSend()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00076">MOLAR::dealerPlayer()</a>.
<p>
<div class="fragment"><pre>00123   {
00124     <span class="keywordtype">int</span> bufferSize = eventArraySize * <span class="keyword">sizeof</span>(<a class="code" href="classEventPacket.html">EventPacket</a>);
00125     <a class="code" href="classUtilities.html#e0">Utilities::mpiSend</a>(ibuffer, &amp;eventArray(0, ibuffer),bufferSize,0);
00126     currentPacketIndex(ibuffer)=0;
00127     numBufferEvents[ibuffer]=1;
00128   };
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="EventBuffer_8hpp-source.html">EventBuffer.hpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Dec 13 14:13:48 2007 for reconHRRT by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
