<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>reconHRRT: EventList class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>EventList Class Reference</h1><code>#include &lt;<a class="el" href="EventList_8hpp-source.html">EventList.hpp</a>&gt;</code>
<p>
<a href="classEventList-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a0">EventList</a> (int numset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a1">~EventList</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a2">append</a> (int subset, const <a class="el" href="classEventPacket.html">EventPacket</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a3">getFirst</a> (int subset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a4">getNext</a> (int subset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a5">remove</a> (int subset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classEventPacket.html">EventPacket</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a6">getSentry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a7">replace</a> (int subset, const <a class="el" href="classEventPacket.html">EventPacket</a> &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a8">setScatter</a> (float scatter)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a9">isEmpty</a> (int subset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a10">printOnScreen</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a11">getNumSet</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a12">getNumEvents</a> (int subset)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classEventList.html#a13">getTotalSize</a> ()</td></tr>

<tr><td colspan=2><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="o0" doxytag="EventList::tempDirName" ></a>
char&nbsp;</td><td class="memItemRight" valign=bottom><b>tempDirName</b> [128]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The list to store the events reading from list mode file Each list includes several sub lists And the sentry which indicates the end of the list The EventList will support "smart swapping". The size of any given processor-list will not be able to exceed a predefined value (perhaps a constant or a Parameter). If, during a list traversal, the end of the currently-stored list (but not the complete list) is reached, the currently-stored list is cleared out and the next portion of the list is read in from local disk. The list-swap files will have a standard name such as EventList- --, where  refers to the portion of the event list that is stored in memory at any given time. These files will be stored in a scratch space on the local disks of the nodes. A special sentry node will be used to identify the end of the current list but not the complete list. Thus there will be two sentry packets, one to identify the end of the partial list and one to identify the end of the full list. During list contruction (i.e., calls to <a class="el" href="classEventList.html#a2">append()</a>), if the maximum portion size is reached, a special function is called to save the current list to disk, after which the list is cleared. 
<p>

<p>
Definition at line <a class="el" href="EventList_8hpp-source.html#l00058">58</a> of file <a class="el" href="EventList_8hpp-source.html">EventList.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="EventList::EventList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> EventList::EventList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>numset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor, initializes array of numset lists <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>numset</em>&nbsp;</td><td>number of sub lists </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00009">9</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="Array1D_8hpp-source.html#l00085">Array1D&lt; int &gt;::init()</a>, and <a class="el" href="Array1D_8hpp-source.html#l00085">Array1D&lt; EventListNode * &gt;::init()</a>.
<p>
<div class="fragment"><pre>00010 {
00011   numSet = numset; <span class="comment">//number of subset</span>
00012   firstPtr.<a class="code" href="classArray1D.html#a8">init</a>(numSet);<span class="comment">//pointer to first node</span>
00013   lastPtr.<a class="code" href="classArray1D.html#a8">init</a>(numSet);<span class="comment">//pointer to last node</span>
00014   currentPtr.<a class="code" href="classArray1D.html#a8">init</a>(numSet);<span class="comment">//pointer to current node</span>
00015   sentry = <span class="keyword">new</span> <a class="code" href="classEventListNode.html">EventListNode</a>(NULLEVENT); <span class="comment">//end of the list</span>
00016   cSentry = <span class="keyword">new</span> EventListNode(CURRENTLISTSENTRY);
00017   <span class="comment">//init the pointers</span>
00018   firstPtr = sentry;
00019   lastPtr = sentry;
00020   currentPtr = sentry;
00021   replaced=removed=<span class="keyword">false</span>;
00022 
00023   numEvents.<a class="code" href="classArray1D.html#a8">init</a>(numSet);
00024   portion.<a class="code" href="classArray1D.html#a8">init</a>(numSet);
00025   nPortion.<a class="code" href="classArray1D.html#a8">init</a>(numSet);
00026   numEvents =0;
00027   portion =0;
00028   nPortion = 0;
00029 
00030   <span class="comment">//KW: create directory</span>
00031   <span class="keywordtype">char</span> *templatename=<span class="keyword">new</span> <span class="keywordtype">char</span>[120];
00032   strcpy(templatename, <span class="stringliteral">"/scratch/XXXXXX"</span>);
00033   <span class="keywordtype">char</span> * dname=mkdtemp(templatename);
00034   strcpy(tempDirName,dname+strlen(dname)-6);
00035 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="EventList::~EventList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> EventList::~<a class="el" href="classEventList.html">EventList</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor 
<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00038">38</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
<div class="fragment"><pre>00039 {
00040         
00041   Status *status = Status::getStatus();
00042   <span class="keywordtype">int</span> proc = status-&gt;proc;
00043   Params &amp;params = *Params::getInstance();
00044 
00045   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;numSet; i++)
00046     {
00047       deleteList(i);
00048       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;portion(i); j++)
00049         {
00050           stringstream ss;
00051                         
00052           <span class="comment">//KW: ss&lt;&lt;"/scratch/EventList-"&lt;&lt;proc&lt;&lt;"-"&lt;&lt;i&lt;&lt;"-"&lt;&lt;j;</span>
00053           ss&lt;&lt;<span class="stringliteral">"/scratch/"</span>&lt;&lt;tempDirName&lt;&lt;<span class="stringliteral">"/EventList-"</span>&lt;&lt;proc&lt;&lt;<span class="stringliteral">"-"</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">"-"</span>&lt;&lt;j;
00054           string fileName=ss.str();
00055           <span class="keywordflow">if</span>(std::remove(fileName.c_str())==-1)
00056             cout&lt;&lt;<span class="stringliteral">"Error deleting list swap file "</span>&lt;&lt;fileName&lt;&lt;endl;
00057           <span class="keywordflow">else</span> 
00058             <span class="keywordflow">if</span>((params.frame.verbosity &gt;= 3) || 
00059                 ((params.frame.verbosity &gt;= 2) &amp;&amp; (status-&gt;proc == 0))) 
00060                 cout&lt;&lt;<span class="stringliteral">"delete file "</span>&lt;&lt;fileName&lt;&lt;endl;
00061         }               
00062     }
00063   <span class="keyword">delete</span> sentry;
00064   <span class="keyword">delete</span> cSentry;
00065 <span class="preprocessor">#ifdef DEBUG</span>
00066 <span class="preprocessor"></span>  <span class="comment">//cout&lt;&lt;"EventList deleted ..."&lt;&lt;countD&lt;&lt;endl;</span>
00067 <span class="preprocessor">#endif</span>
00068 <span class="preprocessor"></span>}
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="EventList::append" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventList::append </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>subset</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Appends an event to a sub list <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to append </td></tr>
    <tr><td valign=top><em>event</em>&nbsp;</td><td>the event to be appended </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00233">233</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8cpp-source.html#l00262">isEmpty()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00076">MOLAR::dealerPlayer()</a>, <a class="el" href="EventList_8cpp-source.html#l00331">getFirst()</a>, <a class="el" href="EventList_8cpp-source.html#l00352">getNext()</a>, and <a class="el" href="MOLAR_8cpp-source.html#l00214">MOLAR::player()</a>.
<p>
<div class="fragment"><pre>00234 {
00235   assert(subset&lt;numSet);
00236   numEvents(subset)++;
00237   Params &amp;params = *Params::getInstance();
00238   <span class="keywordflow">if</span>(params.frame.verbosity &gt;= 6 &amp;&amp; (numEvents(subset) %
00239   Constant::EVENTSTATSCOUNT == 0) &amp;&amp; subset == 0) {
00240          Status *status = Status::getStatus();
00241          status-&gt;printMemInfo();
00242   }             
00243 
00244   <span class="keywordflow">if</span>(numEvents(subset)&gt;VOLUM/numSet) 
00245     {
00246       swapToDisk(subset,portion(subset));
00247       portion(subset)++; <span class="comment">//increase portion by 1</span>
00248     }
00249   <a class="code" href="classEventListNode.html">EventListNode</a> *newPtr = getNewNode(event);
00250   <span class="comment">//generates a new node</span>
00251   <span class="keywordflow">if</span>(<a class="code" href="classEventList.html#a9">isEmpty</a>(subset))   <span class="comment">//List subset is empty</span>
00252     firstPtr(subset) = lastPtr(subset) = currentPtr(subset) = newPtr;
00253   <span class="keywordflow">else</span>          <span class="comment">//list subset is not empty</span>
00254     {
00255       lastPtr(subset)-&gt;nextPtr = newPtr;
00256       lastPtr(subset) = newPtr;
00257       currentPtr(subset) = lastPtr(subset);
00258     }
00259 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="EventList::getFirst" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventList::getFirst </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>subset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the first event in the sub list <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the first event of the sub list </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00331">331</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8cpp-source.html#l00233">append()</a>, <a class="el" href="EventList_8hpp-source.html#l00029">EventListNode::event</a>, <a class="el" href="EventList_8cpp-source.html#l00394">getSentry()</a>, and <a class="el" href="EventList_8cpp-source.html#l00262">isEmpty()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l01107">MOLAR::backProjectQ()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>, <a class="el" href="Algorithm_8cpp-source.html#l00408">Algorithm::collectEstimates()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00612">MOLAR::fwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00771">MOLAR::fwdProjectSolidAngle()</a>, <a class="el" href="AlgorithmOSEM_8cpp-source.html#l00166">AlgorithmOSEM::oneIteration()</a>, <a class="el" href="EventList_8cpp-source.html#l00430">printOnScreen()</a>, and <a class="el" href="AlgorithmSimulation_8cpp-source.html#l00068">AlgorithmSimulation::reconstruct()</a>.
<p>
<div class="fragment"><pre>00332 {
00333   assert(subset&lt;numSet);
00334   replaced=removed = <span class="keyword">false</span>;
00335   <span class="keywordflow">if</span>(portion(subset)&gt;0)
00336     {
00337       <span class="comment">//swap current portion of eventlist to disk</span>
00338       <a class="code" href="classEventList.html#a2">append</a>(subset,cSentry-&gt;<a class="code" href="classEventListNode.html#r0">event</a>);
00339       Params &amp;params = *Params::getInstance();
00340       <span class="keywordflow">if</span>(numSet&lt;=VOLUM/numSet) swapToDisk(subset,portion(subset));
00341       <span class="comment">//swap back the first portion</span>
00342       nPortion(subset) = 0;
00343       swapFromDisk(subset,nPortion(subset));<span class="comment">//swap back the first list-swap file</span>
00344     }
00345   <span class="keywordflow">if</span>(<a class="code" href="classEventList.html#a9">isEmpty</a>(subset)) <span class="keywordflow">return</span> <a class="code" href="classEventList.html#a6">getSentry</a>();<span class="comment">//if list empty, return a nullEvent</span>
00346   currentPtr(subset) = firstPtr(subset);
00347   <span class="keywordflow">return</span> firstPtr(subset)-&gt;event;<span class="comment">//else return first event</span>
00348 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="EventList::getNext" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventList::getNext </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>subset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the next event of the sub list <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the next event in the sub list </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00352">352</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8cpp-source.html#l00233">append()</a>, <a class="el" href="EventList_8hpp-source.html#l00029">EventListNode::event</a>, <a class="el" href="EventList_8cpp-source.html#l00394">getSentry()</a>, and <a class="el" href="EventList_8cpp-source.html#l00262">isEmpty()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l01107">MOLAR::backProjectQ()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>, <a class="el" href="Algorithm_8cpp-source.html#l00408">Algorithm::collectEstimates()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00612">MOLAR::fwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00771">MOLAR::fwdProjectSolidAngle()</a>, <a class="el" href="AlgorithmOSEM_8cpp-source.html#l00166">AlgorithmOSEM::oneIteration()</a>, <a class="el" href="EventList_8cpp-source.html#l00430">printOnScreen()</a>, and <a class="el" href="AlgorithmSimulation_8cpp-source.html#l00068">AlgorithmSimulation::reconstruct()</a>.
<p>
<div class="fragment"><pre>00353 {
00354   assert(subset&lt;numSet);
00355   <span class="keywordflow">if</span>(<a class="code" href="classEventList.html#a9">isEmpty</a>(subset)) <span class="keywordflow">return</span> <a class="code" href="classEventList.html#a6">getSentry</a>(); <span class="comment">//if list empty, return a sentry Event</span>
00356   <span class="keywordflow">if</span>(currentPtr(subset) == lastPtr(subset)) <span class="comment">//end of the current list reached</span>
00357     {
00358       nPortion(subset)++;     <span class="comment">//number of portion read increases by 1</span>
00359       <span class="keywordflow">if</span>(portion(subset)==0 || nPortion(subset) == (portion(subset)+1)) <span class="comment">//all list-swap files read</span>
00360         <span class="keywordflow">return</span> <a class="code" href="classEventList.html#a6">getSentry</a>(); <span class="comment">//reach the end of the list, return a sentry event</span>
00361       <span class="keywordflow">else</span>
00362         {
00363           <span class="keywordflow">if</span>(replaced || removed)
00364             {
00365               swapToDisk(subset, nPortion(subset)-1);
00366               <span class="keywordflow">if</span>(removed) <a class="code" href="classEventList.html#a2">append</a>(subset,cSentry-&gt;<a class="code" href="classEventListNode.html#r0">event</a>);
00367               replaced=removed = <span class="keyword">false</span>;
00368             }
00369           <span class="keywordflow">else</span>
00370             {
00371               deleteList(subset);        <span class="comment">//delete current list</span>
00372             }
00373           swapFromDisk(subset, nPortion(subset)); <span class="comment">//swap back next list-swap file</span>
00374           currentPtr(subset)=firstPtr(subset); <span class="comment">//put current pointer to first</span>
00375           <span class="keywordflow">return</span> currentPtr(subset)-&gt;event; <span class="comment">//return first event of current list</span>
00376         }
00377     }
00378 
00379   currentPtr(subset) = currentPtr(subset)-&gt;nextPtr;<span class="comment">//move current event a forward step</span>
00380   <a class="code" href="classEventPacket.html">EventPacket</a> tmpEvent = currentPtr(subset)-&gt;event;
00381  
00382   eventCount++;
00383   Params &amp;params = *Params::getInstance();
00384   Status *status = Status::getStatus();
00385 
00386   <span class="keywordflow">if</span>(params.frame.verbosity &gt;= 6 &amp;&amp; (eventCount % Constant::EVENTSTATSCOUNT == 0)) {
00387      status-&gt;printMemInfo();
00388   } 
00389 
00390   <span class="keywordflow">return</span> tmpEvent;
00391 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="EventList::getNumEvents" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventList::getNumEvents </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>subset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This fucntion gets number of events of a subset of the eventlist <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the number of the subset </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of the events of the subset </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8hpp-source.html#l00166">166</a> of file <a class="el" href="EventList_8hpp-source.html">EventList.hpp</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l01107">MOLAR::backProjectQ()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00612">MOLAR::fwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00771">MOLAR::fwdProjectSolidAngle()</a>, <a class="el" href="EventList_8cpp-source.html#l00478">getTotalSize()</a>, <a class="el" href="AlgorithmOSEM_8cpp-source.html#l00166">AlgorithmOSEM::oneIteration()</a>, and <a class="el" href="AlgorithmSimulation_8cpp-source.html#l00068">AlgorithmSimulation::reconstruct()</a>.
<p>
<div class="fragment"><pre>00166 {<span class="keywordflow">return</span> numEvents(subset);}
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="EventList::getNumSet" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventList::getNumSet </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
get the number of sub list in the list <dl compact><dt><b>Returns:</b></dt><dd>number of the sub list </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8hpp-source.html#l00160">160</a> of file <a class="el" href="EventList_8hpp-source.html">EventList.hpp</a>.
<p>
Referenced by <a class="el" href="EventList_8cpp-source.html#l00478">getTotalSize()</a>.
<p>
<div class="fragment"><pre>00160 { <span class="keywordflow">return</span> numSet;}; 
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="EventList::getSentry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classEventPacket.html">EventPacket</a> EventList::getSentry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gets the sentry event <dl compact><dt><b>Returns:</b></dt><dd>sentry event </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00394">394</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l01107">MOLAR::backProjectQ()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>, <a class="el" href="Algorithm_8cpp-source.html#l00408">Algorithm::collectEstimates()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00076">MOLAR::dealerPlayer()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00612">MOLAR::fwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00771">MOLAR::fwdProjectSolidAngle()</a>, <a class="el" href="EventList_8cpp-source.html#l00331">getFirst()</a>, <a class="el" href="EventList_8cpp-source.html#l00352">getNext()</a>, <a class="el" href="AlgorithmOSEM_8cpp-source.html#l00166">AlgorithmOSEM::oneIteration()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00214">MOLAR::player()</a>, <a class="el" href="EventList_8cpp-source.html#l00430">printOnScreen()</a>, and <a class="el" href="AlgorithmSimulation_8cpp-source.html#l00068">AlgorithmSimulation::reconstruct()</a>.
<p>
<div class="fragment"><pre>00395 {
00396   <span class="keywordflow">return</span> NULLEVENT;
00397 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="EventList::getTotalSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int EventList::getTotalSize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function get the total number of events in the eventlist <dl compact><dt><b>Returns:</b></dt><dd>total number of events in the event list </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00478">478</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8hpp-source.html#l00166">getNumEvents()</a>, and <a class="el" href="EventList_8hpp-source.html#l00160">getNumSet()</a>.
<p>
<div class="fragment"><pre>00479 {
00480   <span class="keywordtype">int</span> totalSize = 0;
00481   <span class="comment">//get number of events from each subset</span>
00482   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;this-&gt;<a class="code" href="classEventList.html#a11">getNumSet</a>(); i++)
00483     totalSize += this-&gt;<a class="code" href="classEventList.html#a12">getNumEvents</a>(i);
00484   <span class="keywordflow">return</span> totalSize;
00485 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="EventList::isEmpty" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool EventList::isEmpty </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>subset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tests if the sub list is empty <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to test </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if empty, false otherwise </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00262">262</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
Referenced by <a class="el" href="EventList_8cpp-source.html#l00233">append()</a>, <a class="el" href="EventList_8cpp-source.html#l00331">getFirst()</a>, <a class="el" href="EventList_8cpp-source.html#l00352">getNext()</a>, <a class="el" href="EventList_8cpp-source.html#l00430">printOnScreen()</a>, and <a class="el" href="EventList_8cpp-source.html#l00320">replace()</a>.
<p>
<div class="fragment"><pre>00263 {
00264   assert(subset&lt;numSet);
00265   <span class="keywordflow">return</span> firstPtr(subset) == sentry;
00266 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="EventList::printOnScreen" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventList::printOnScreen </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Displays the list on screen 
<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00430">430</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8cpp-source.html#l00331">getFirst()</a>, <a class="el" href="Log_8hpp-source.html#l00079">Log::getLog()</a>, <a class="el" href="EventList_8cpp-source.html#l00352">getNext()</a>, <a class="el" href="EventList_8cpp-source.html#l00394">getSentry()</a>, <a class="el" href="EventList_8cpp-source.html#l00262">isEmpty()</a>, <a class="el" href="EventPacket_8hpp-source.html#l00013">EventPacket::jstart</a>, <a class="el" href="EventPacket_8hpp-source.html#l00013">EventPacket::jstop</a>, <a class="el" href="Log_8hpp-source.html#l00052">Log::outputMessage()</a>, <a class="el" href="EventPacket_8hpp-source.html#l00016">EventPacket::secondaryStart</a>, <a class="el" href="EventPacket_8hpp-source.html#l00018">EventPacket::secondaryStep</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::x1</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::x2</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::y1</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::y2</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::z1</a>, <a class="el" href="EventPacket_8hpp-source.html#l00033">EventPacket::z2</a>, <a class="el" href="EventPacket_8hpp-source.html#l00016">EventPacket::zStart</a>, and <a class="el" href="EventPacket_8hpp-source.html#l00018">EventPacket::zStep</a>.
<p>
<div class="fragment"><pre>00431 {
00432   <span class="keywordtype">int</span> totalEvent = 0;
00433   <span class="keywordtype">int</span> count[numSet];
00434   stringstream ss;
00435   <a class="code" href="classLog.html">Log</a> * log = <a class="code" href="classLog.html#e0">Log::getLog</a>();
00436   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0 ; i&lt;numSet; i++)
00437     {
00438       count[i]=1;
00439       ss&lt;&lt;<span class="stringliteral">"Subset List "</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">" : "</span>&lt;&lt;endl;
00440       ss&lt;&lt;<span class="stringliteral">"jstart "</span>&lt;&lt;<span class="stringliteral">"jstop "</span>&lt;&lt;<span class="stringliteral">"secondaryStart "</span>&lt;&lt;<span class="stringliteral">"zStart "</span>;
00441       ss&lt;&lt;<span class="stringliteral">"secondaryStep "</span>&lt;&lt;<span class="stringliteral">"zStep "</span>;
00442       ss&lt;&lt;<span class="stringliteral">"Index    x1 y1 z1"</span>&lt;&lt;<span class="stringliteral">" x2 y2 z2"</span>;
00443       ss&lt;&lt;endl;
00444       <span class="keywordflow">if</span>(<a class="code" href="classEventList.html#a9">isEmpty</a>(i)) <span class="keywordflow">continue</span>;
00445       <a class="code" href="classEventPacket.html">EventPacket</a> e=<a class="code" href="classEventList.html#a3">getFirst</a>(i);
00446       ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o0">jstart</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o1">jstop</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o2">secondaryStart</a>&lt;&lt;<span class="stringliteral">" "</span>;
00447       ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o3">zStart</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o4">secondaryStep</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o5">zStep</a>&lt;&lt;<span class="stringliteral">" "</span>;
00448       ss&lt;&lt;count[i]&lt;&lt;<span class="stringliteral">"      "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o12">x1</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o13">y1</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o14">z1</a>&lt;&lt;<span class="stringliteral">" "</span>;
00449       ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o15">x2</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o16">y2</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o17">z2</a>&lt;&lt;endl;
00450       log-&gt;<a class="code" href="classLog.html#a2">outputMessage</a>(ss.str(), FRAME, 4);
00451       <span class="keywordflow">while</span>(!(e==<a class="code" href="classEventList.html#a6">getSentry</a>()))
00452         {
00453           e=<a class="code" href="classEventList.html#a4">getNext</a>(i);
00454           ss.str(<span class="stringliteral">""</span>);
00455           ss.clear();
00456           ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o0">jstart</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o1">jstop</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o2">secondaryStart</a>&lt;&lt;<span class="stringliteral">" "</span>;
00457           ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o3">zStart</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o4">secondaryStep</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o5">zStep</a>&lt;&lt;<span class="stringliteral">" "</span>;
00458           count[i]++;
00459           ss&lt;&lt;count[i]&lt;&lt;<span class="stringliteral">"      "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o12">x1</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o13">y1</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o14">z1</a>&lt;&lt;<span class="stringliteral">" "</span>;
00460           ss&lt;&lt;e.<a class="code" href="classEventPacket.html#o15">x2</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o16">y2</a>&lt;&lt;<span class="stringliteral">" "</span>&lt;&lt;e.<a class="code" href="classEventPacket.html#o17">z2</a>&lt;&lt;endl;
00461           log-&gt;<a class="code" href="classLog.html#a2">outputMessage</a>(ss.str(), FRAME, 4);
00462         }
00463       totalEvent += count[i];
00464     }
00465   ss.str(<span class="stringliteral">""</span>);
00466   ss.clear();
00467   ss&lt;&lt;<span class="stringliteral">"Totally "</span>&lt;&lt;totalEvent&lt;&lt;<span class="stringliteral">" Eevents in the lists"</span>&lt;&lt;endl;
00468   log-&gt;<a class="code" href="classLog.html#a2">outputMessage</a>(ss.str(), FRAME, 4);
00469 <span class="preprocessor">#ifdef DEBUG2</span>
00470 <span class="preprocessor"></span>  <span class="comment">//cout&lt;&lt;"event list printed..."&lt;&lt;endl;</span>
00471 <span class="preprocessor">#endif</span>
00472 <span class="preprocessor"></span>}
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="EventList::remove" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool EventList::remove </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>subset</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes current event in the sub list <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to operate </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if sucessful, false otherwise </dd></dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00278">278</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>.
<p>
<div class="fragment"><pre>00279 {
00280 <span class="comment">//   assert(subset&lt;numSet);</span>
00281 <span class="comment">//   if(isEmpty(subset)) return false;  //list empty, don't do anything</span>
00282 <span class="comment">//   else</span>
00283 <span class="comment">//     {</span>
00284 <span class="comment">//       EventListNode *tmpPtr = currentPtr(subset);</span>
00285 <span class="comment">//       if(firstPtr(subset) == lastPtr(subset)) //only one event in list</span>
00286 <span class="comment">//      firstPtr(subset) = lastPtr(subset)  = currentPtr(subset) = sentry;</span>
00287 <span class="comment">//       else</span>
00288 <span class="comment">//      {</span>
00289 <span class="comment">//        EventListNode *ptr = firstPtr(subset);</span>
00290 <span class="comment">//        if(ptr==currentPtr(subset)) //remove the first event</span>
00291 <span class="comment">//             {</span>
00292 <span class="comment">//            firstPtr(subset)=currentPtr(subset)=ptr-&gt;nextPtr;</span>
00293 <span class="comment">//             }</span>
00294 <span class="comment">//        else</span>
00295 <span class="comment">//             {</span>
00296 <span class="comment">//            while(ptr-&gt;nextPtr !=currentPtr(subset)) //find the node before current node</span>
00297 <span class="comment">//              {</span>
00298 <span class="comment">//                ptr = ptr-&gt;nextPtr;</span>
00299 <span class="comment">//              }</span>
00300 <span class="comment">//             }</span>
00301 <span class="comment">//        if(currentPtr(subset) == lastPtr(subset)) //remove the last event</span>
00302 <span class="comment">//             {</span>
00303 <span class="comment">//            currentPtr(subset) = lastPtr(subset) = ptr;</span>
00304 <span class="comment">//            currentPtr(subset)-&gt;nextPtr = lastPtr(subset)-&gt;nextPtr = sentry;</span>
00305 <span class="comment">//             }</span>
00306 <span class="comment">//        else</span>
00307 <span class="comment">//          ptr-&gt;nextPtr=currentPtr(subset)=currentPtr(subset)-&gt;nextPtr;</span>
00308 <span class="comment">//      }</span>
00309 
00310 <span class="comment">//       delete tmpPtr;</span>
00311 <span class="comment">//       numEvents(subset)--;</span>
00312 <span class="comment">//       removed=true;</span>
00313 <span class="comment">//       return true;</span>
00314 <span class="comment">//     }</span>
00315   currentPtr(subset)-&gt;event.jstart= currentPtr(subset)-&gt;event.jstop-1;
00316   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00317 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="EventList::replace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool EventList::replace </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>subset</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="classEventPacket.html">EventPacket</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>event</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Replaces the current event of the sub list <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>subset</em>&nbsp;</td><td>the sub list to operate </td></tr>
    <tr><td valign=top><em>event</em>&nbsp;</td><td>the event used to replace current event </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventList_8cpp-source.html#l00320">320</a> of file <a class="el" href="EventList_8cpp-source.html">EventList.cpp</a>.
<p>
References <a class="el" href="EventList_8cpp-source.html#l00262">isEmpty()</a>.
<p>
Referenced by <a class="el" href="MOLAR_8cpp-source.html#l00292">MOLAR::boundaryCheckingFwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00612">MOLAR::fwdProject()</a>, <a class="el" href="MOLAR_8cpp-source.html#l00771">MOLAR::fwdProjectSolidAngle()</a>, and <a class="el" href="AlgorithmOSEM_8cpp-source.html#l00166">AlgorithmOSEM::oneIteration()</a>.
<p>
<div class="fragment"><pre>00321 {
00322   assert(subset&lt;numSet);
00323   <span class="keywordflow">if</span>(<a class="code" href="classEventList.html#a9">isEmpty</a>(subset)) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">//if list is empty, do nothing</span>
00324   currentPtr(subset)-&gt;event = event;
00325   replaced=<span class="keyword">true</span>;
00326   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00327 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="EventList::setScatter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void EventList::setScatter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>scatter</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Replaces scatter field <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>scatter</em>&nbsp;</td><td>the new scatter field </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="EventList_8hpp-source.html">EventList.hpp</a><li><a class="el" href="EventList_8cpp-source.html">EventList.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Dec 13 14:13:49 2007 for reconHRRT by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
